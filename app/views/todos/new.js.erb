var todoForm = $('[data-model_name="goal"]').filter('[data-id="<%= @goal.id %>"]').find('form[name="todoForm"]');

if (todoForm.length) {
  todoForm.eq(0).toggle()
    $('[data-model_name="goal"]').filter('[data-id="<%= @goal.id %>"]').find('form [name="todo[content]"]').eq(0).focus();
} else {
    $('[data-model_name="goal"]').filter('[data-id="<%= @goal.id %>"]').find('.goal-header').after("<%= j(render 'form', goal: @goal, todo: @todo) %>")
    $('[data-model_name="goal"]').filter('[data-id="<%= @goal.id %>"]').find('form [name="todo[content]"]').eq(0).focus();
}
